<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=5">

    <meta name="theme-color" content="#002A50">
    <meta name="msapplication-navbutton-color" content="#002A50">
    <meta name="apple-mobile-web-app-status-bar-style" content="#002A50">

    <link rel="preload" as="image" href="{% link {{ page.feature-img | default: site.theme_settings.header_feature_image }} %}">

    <script defer src="{% link assets/js/main.min.js %}"></script>
    <link rel="stylesheet" href="{% link assets/css/main.scss %}">

    <!--Favicon and metadata-->
    <link rel="apple-touch-icon" sizes="180x180" href="{% link assets/icons/apple-touch-icon.png %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% link assets/icons/favicon-32x32.png %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% link assets/icons/favicon-16x16.png %}">
    <link rel="manifest" href="{% link assets/icons/site.webmanifest %}">
    <link rel="mask-icon" href="{% link assets/icons/safari-pinned-tab.svg %}" color="#002a50">
    <link rel="shortcut icon" href="{% link favicon.ico %}">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="msapplication-config" content="{% link assets/icons/browserconfig.xml %}">

    <!-- Canonical -->
    <link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">

    <!-- RSS -->
    {% feed_meta %}

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.3.2/css/flag-icons.min.css" integrity="sha512-+WVTaUIzUw5LFzqIqXOT3JVAc5SrMuvHm230I9QAZa6s+QRk8NDPswbHo2miIZj3yiFyV9lAgzO1wVrjdoO4tw==" crossorigin="anonymous">

    {%- if layout.brython or page.brython %}
    <script defer src="{% link assets/js/brython.min.js %}"></script>
    <script defer src="
        {%- unless jekyll.environment == 'development' -%}
        {{- '/assets/js/brython_modules.js' | relative_url -}}
        {%- else -%}
        {%- link assets/js/brython_stdlib.js -%}
        {%- endunless -%}
        "></script>
    {%- endif %}

    <!-- Juxtapose -->
    {% if layout.juxtapose or page.juxtapose %}
    <link rel="stylesheet" href="{% link assets/css/juxtapose.scss %}">
    <script defer src="{% link assets/js/juxtapose.min.js %}"></script>
    {% endif %}

    <!-- MathJax -->
    {% if layout.mathjax or page.mathjax %}
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha512-tiaNmAzpy3KcgtuiLwT9WSlSsqGqtDB5ylMwxoqG5ysNIyzkBw24k6UFTuXGgyXJLJ8aM/ho1h67NRKedPx++Q==" crossorigin="anonymous"></script>
    {% endif %}

    <!-- Google Fonts -->
    {% if site.theme_settings.google_fonts %}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family={{ site.theme_settings.google_fonts }}&display=swap" rel="stylesheet">
    {% endif %}

    {%- if site.theme_settings.plausible_analytics and jekyll.environment != "development" %}
    {%- if layout.plausible-file-downloads or page.plausible-file-downloads -%}
        {%- assign plausible-extension = plausible-extension | append: ".file-downloads" %}
        {% assign plausible-attributes = plausible-attributes | append: ' file-types="exe,dll,asi,7z,pkg,rar,gz,zip,txt,pnach,cht,ini,py"' %}
    {%- endif -%}
    {%- if layout.plausible-tagged-events or page.plausible-tagged-events -%}
        {% assign plausible-extension = plausible-extension | append: ".tagged-events" %}
    {%- endif -%}
    <script defer{{ plausible-attributes }} data-domain="{{ site.theme_settings.plausible_analytics }}" data-api="https://silent.rockstarvision.com/api/event" src="https://silent.rockstarvision.com/js/script{{ plausible-extension }}.js"></script>
    {%- endif %}

    <!-- seo tags -->
    {% seo %}
    {% if jekyll.environment != "development" and page.image -%}
    {% imagesize page.image:opengraph %}
    {%- endif %}
    {% if page.layout == 'post' -%}
    <meta name="twitter:label1" content="Reading time">
    <meta name="twitter:data1" content="{% include_cached ert.html document=page %} min read">
    {%- endif %}

    <noscript><style>.no-js { display: none !important; }</style></noscript>
</head>
