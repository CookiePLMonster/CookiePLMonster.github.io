async function downloadBlob(e){e.preventDefault();try{const t=new URL(e.currentTarget.dataset.source||e.currentTarget.href),n=await fetch(t.toString());if(!n.ok)throw new Error("Fetch failed");const o=await n.blob(),c=window.URL.createObjectURL(o),a=t.pathname.split("/"),d=decodeURIComponent(a.pop()||a.pop()),i=document.createElement("a");i.href=c,i.download=d,i.style.display="none",document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(c)}catch(e){console.error("There has been a problem downloading the blob:",e)}}const systemInitiatedDark=window.matchMedia("(prefers-color-scheme: dark)");function _changeIconTitle(e){const t=document.getElementById("theme-toggle");t.title=e?"Toggle Light Mode":"Toggle Dark Mode"}function modeSwitcher(){const e=sessionStorage.getItem("theme");let t=!0;"dark"===e?t=!1:"light"===e?t=!0:systemInitiatedDark.matches&&(t=!1),t?(document.documentElement.setAttribute("data-theme","dark"),sessionStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),sessionStorage.setItem("theme","light")),_changeIconTitle(t),"undefined"!=typeof DISQUS&&DISQUS.reset({reload:!0})}!function(){const e=sessionStorage.getItem("theme");"dark"===e?(document.documentElement.setAttribute("data-theme","dark"),_changeIconTitle(!0)):"light"===e?(document.documentElement.setAttribute("data-theme","light"),_changeIconTitle(!1)):_changeIconTitle(systemInitiatedDark.matches),systemInitiatedDark.addEventListener("change",(function(e){_changeIconTitle(e.matches),document.documentElement.removeAttribute("data-theme"),sessionStorage.removeItem("theme"),"undefined"!=typeof DISQUS&&DISQUS.reset({reload:!0})}))}(),function(){const e=document.getElementById("pull"),t=document.querySelector("nav ul");["click","touch"].forEach((function(n){e?.addEventListener(n,(function(){t.classList.toggle("hide")}),!1)})),window.addEventListener("scroll",(function(){const e=-(window.scrollY||window.pageYOffset||document.body.scrollTop)/3,t=document.getElementById("main");t&&(t.style.backgroundPosition="100% "+e+"px, 0%, center top")}))}();